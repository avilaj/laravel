{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["$(document).ready(()=>{\r\n  let Slider = (selector, responsive) => {\r\n    let element = $(selector);\r\n    element.owlCarousel({\r\n      margin: 10,\r\n      nav: true,\r\n      navClass: ['owl-prev fa fa-angle-left', 'owl-next fa fa-angle-right'],\r\n      navText: false,\r\n      loop: true,\r\n      responsive: responsive\r\n    });\r\n  }\r\n\r\n  Slider(\"#news-slider\", {\r\n    0:{items: 2},\r\n    1000: {items: 4}\r\n  });\r\n\r\n  Slider(\".home-product-slider\", {\r\n    0: { items: 1 },\r\n    600: { items: 3 },\r\n    1000: { items: 5 }\r\n  });\r\n\r\n  var productThumbnails = $('.product-displayer__thumbnails');\r\n  productThumbnails.owlCarousel({\r\n    margin: 10,\r\n    nav: true,\r\n    navClass: ['owl-prev fa fa-angle-left', 'owl-next fa fa-angle-right'],\r\n    navText: false,\r\n    auto: false\r\n  });\r\n  $('.product-displayer__view').zoom({\r\n    url: 'http://placehold.it/600x900/09f/fff?text=product+view'\r\n  });\r\n});\r\n\r\n// class Bag {\r\n//\r\n//   constructor(products) {\r\n//     this.selected = [] || products;\r\n//   }\r\n//\r\n//   set(product, amount) {\r\n//     let selected = {\r\n//       id: product.id,\r\n//       product: product,\r\n//       qty: amount\r\n//     }\r\n//     this.selected.push(selected);\r\n//     return this.selected;\r\n//   }\r\n//\r\n//   remove(product) {\r\n//\r\n//   }\r\n// }\r\n//\r\n//   var cart = {};\r\n//   var select = document.getElementById(\"product-size\");\r\n//   var qty = document.getElementById(\"product-qty\");\r\n//\r\n//   function addSizes (colorId) {\r\n//     var options = sizes;\r\n//     var selection = [];\r\n//     for (var i = 0; i < options.length; i++) {\r\n//       var ref = options[i]\r\n//       if (ref.color_id == colorId) {\r\n//         selection.push(ref);\r\n//       }\r\n//     }\r\n//     for (var i = 0; i < selection.length; i++) {\r\n//       var size = selection[i];\r\n//       var option = document.createElement(\"option\");\r\n//       option.value = size.id;\r\n//       var label = size.label;\r\n//       if (size.total == \"0\") {\r\n//         label += \" AGOTADO\";\r\n//         option.disabled = true;\r\n//       }\r\n//       option.innerText = label;\r\n//       select.appendChild(option);\r\n//     }\r\n//   }\r\n//\r\n//   function setColor(color) {\r\n//     $(select).html('');\r\n//     $(select).attr('value', '');\r\n//     $(select).append('<option> Seleccione su talle </option>')\r\n//     addSizes(color);\r\n//   }\r\n//\r\n//   function updateCartCount(total) {\r\n//     $(\".cart-product-count\").html(\"(\"+total+\")\");\r\n//   }\r\n//   function getCartCount() {\r\n//     return $(\".cart-product-count\").html();\r\n//   }\r\n//   $('.remove-product').click(function (e) {\r\n//     setProduct(e.target.dataset.id, 0);\r\n//   });\r\n//   $('.product-amount-input').change(function (e) {\r\n//     var product = e.target.dataset.id;\r\n//     var quantity = e.target.value;\r\n//     setProduct(product, quantity);\r\n//\r\n//   });\r\n//\r\n//   function setProduct(product, quantity) {\r\n//     $.get('/check-out/set', {'reference_id': product, 'qty': quantity}).done(function (data) {\r\n//       updateCartCount(data.products);\r\n//     });\r\n//   }\r\n//\r\n//   function addToCart() {\r\n//     var product = select.value;\r\n//     var quantity = qty.value;\r\n//     setProduct(product, quantity);\r\n//     // updateCartCount(data.prsetProductoducts);\r\n//   }\r\n//   $('input:radio[name=color]:first').click();\r\n//   // function addToCart() {}\r\n//\r\n// angular.module('filtering', [])\r\n//   .controller('filteringCtrl', ['$scope','$location', function ($scope, $location) {\r\n//     console.log($location);\r\n//     let defaults = {\r\n//       'price': '0-3000',\r\n//       'brand': null,\r\n//       'search': null\r\n//     };\r\n//     this.applyFilter = () => {\r\n//       let params = {};\r\n//       params.price = this.minprice + '-' + this.maxprice;\r\n//       params.brand = this.brand;\r\n//     }\r\n//     this.brand = null;\r\n//     this.minprice = 70;\r\n//     this.maxprice = 3000;\r\n//   }])\r\n//   .component('priceFilter', {\r\n//     template: ''\r\n//   });\r\n\r\nangular\r\n  .module('mkcart', [])\r\n  .service('Product', ['$http', '$window', '$rootScope', function ($http, $window, $scope) {\r\n    this.count = $window.mkStore.productCount || 0;\r\n    $scope.$watch(function () {\r\n      return $window.mkStore.productCount;\r\n    }, (value) => this.count = value)\r\n    this.setCount = (amount) => {\r\n      $window.mkStore = $window.mkStore || {};\r\n      $window.mkStore.productCount = amount;\r\n      this.count = amount;\r\n    };\r\n    this.getCount = function () {\r\n      console.log('devuelve',this.count);\r\n      return this.count;\r\n    };\r\n    this.add = (id, qty) => {\r\n      let data = {'reference_id': id, 'qty': qty};\r\n      this.count += qty;\r\n      return $http.get('/check-out/set', {\r\n        params: data\r\n      })\r\n        .then((res) => {\r\n          return this.setCount(res.data.products)\r\n        });\r\n    }\r\n\r\n  }])\r\n  .controller('ProductController', ['$window', 'Product', function ($window, Product)  {\r\n    let self = this;\r\n    this.colors = $window.mkStore.colors;\r\n    this.sizes = $window.mkStore.sizes;\r\n    this.addToCart =  (reference, qty) => {\r\n      Product.add(reference.id, qty);\r\n    }\r\n  }])\r\n  .controller('CartController', ['$window', 'Product', function ($window, $http) {\r\n    var self = this;\r\n    this.products = $window.cartProducts;\r\n    this.total = 0;\r\n\r\n    this.remove = (id, index) => {\r\n      self.products.splice(index, 1);\r\n      self.updateQty(id, 0);\r\n    };\r\n\r\n    this.updateQty = function (id, qty) {\r\n      var data = {'reference_id': id, 'qty': qty};\r\n      self.updateTotal();\r\n      $http.get('/check-out/set', {params: data}).success( res => {\r\n        console.log(res);\r\n      });\r\n    };\r\n    let subtotal = (item) => item.price * item.qty\r\n    let sumar = (prev, cur) => prev + cur\r\n    this.updateTotal = () => {\r\n      self.total = 0;\r\n      self.total = self.products.map(subtotal).reduce(sumar, 0);\r\n      return self.total;\r\n    }\r\n    this.updateTotal();\r\n  }])\r\n  .controller('TotalController', ['Product', function (Product) {\r\n    var self = this;\r\n    // this.total = Cart.total();\r\n    this.cart = Product;\r\n    // $scope.$watch(function () {\r\n    //   return self.total\r\n    // }, function (value, el) {\r\n    //   console.log('cambio', value);\r\n    // })\r\n  }])\r\n  .component('cartTotal', {\r\n    template: \"({{ cart.cart.total() }})\",\r\n    controller: \"TotalController\",\r\n    controllerAs: 'cart'\r\n  });\r\n\r\n  // angular.\r\n  //   module('mkCartTotal', ['mkcart'])\r\n  //   .service('Cart', function (Product) {\r\n  //     this.total = function () {\r\n  //       return Product.getCount();\r\n  //     }\r\n  //   })\r\n  angular.bootstrap(document.querySelector('.cart-product-count'), ['mkcart']);\r\n  // angular.bootstrap(document.getElementById('filtering'), ['filtering']);\r\n"],"sourceRoot":"/source/"}